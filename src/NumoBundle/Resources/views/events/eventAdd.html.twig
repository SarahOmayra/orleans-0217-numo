{# --- app/Resources/views/agenda/eventView.html.twig --- #}

{% extends 'layout.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col-xs-12 text-center">
            <a href="{{ path('event_list') }}" class="btn btn-default" type="button">Retour à la liste</a>
        </div>
    </div>

    {% if error == '' %}

        {{ form_start(form) }}

            <div class="row ecart-haut">
                <div class="col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 form-group">

                    <h4>Description de l'évènement</h4>

                    {{ form_label(form.title, '* Nom de l\'évènement') }}
                    {% if form_errors(form.title) %} <span class="erreur"> - Attention : {{ form_errors(form.title)|striptags }}</span> {% endif %}
                    {{ form_widget(form.title, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                    {{ form_label(form.description, '* Description succincte de l\'évènement') }}
                    {% if form_errors(form.description) %} <span class="erreur"> - Attention : {{ form_errors(form.description)|striptags }}</span> {% endif %}
                    {{ form_widget(form.description, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                    {{ form_label(form.freeText, 'Description détaillée de l\'évènement') }}
                    {{ form_widget(form.freeText, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                    {{ form_label(form.tags, 'Mots-clé pour la recherche (sans accents, séparés par une virgule)') }}
                    {{ form_widget(form.tags, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                    {# --- locations ---------------------------------------------------------------------- #}
                    <div class="separation"></div>
                    <h4>Description du lieu</h4>
                    {% for location in form.locations %}

                        {{ form_label(location.placename, '* Nom du lieu de l\'évènement') }}
                        {% if form_errors(location.placename) %} <span class="erreur"> - Attention : {{ form_errors(location.placename)|striptags }}</span> {% endif %}
                        {{ form_widget(location.placename, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                        {{ form_label(location.address, '* Adresse complète') }}
                        {% if form_errors(location.address) %} <span class="erreur"> - Attention : {{ form_errors(location.address)|striptags }}</span> {% endif %}
                        {{ form_widget(location.address, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                        {{ form_label(location.pricingInfo, 'Informations sur la tarification') }}
                        {% if form_errors(location.pricingInfo) %} <span class="erreur"> - Attention : {{ form_errors(location.pricingInfo)|striptags }}</span> {% endif %}
                        {{ form_widget(location.pricingInfo, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                        {{ form_label(location.ticketLink, 'Lien vers la billetterie') }}
                        {% if form_errors(location.ticketLink) %} <span class="erreur"> - Attention : {{ form_errors(location.ticketLink)|striptags }}</span> {% endif %}
                        {{ form_widget(location.ticketLink, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                        {# --- dates -------------------------------------------------------------------------- #}
                        <div class="separation"></div>
                        <h4>Date(s) de l'évènement</h4>
                        {% for date in location.dates %}

                            {{ form_label(date.evtDate, '* Date de l\'évènement') }}
                            {% if form_errors(date.evtDate) %} <span class="erreur"> - Attention : {{ form_errors(date.evtDate)|striptags }}</span> {% endif %}
                            {{ form_widget(date.evtDate, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                            {{ form_label(date.timeStart, '* Horaire de début') }}
                            {% if form_errors(date.timeStart) %} <span class="erreur"> - Attention : {{ form_errors(date.timeStart)|striptags }}</span> {% endif %}
                            {{ form_widget(date.timeStart, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                            {{ form_label(date.timeEnd, '* Horaire de fin') }}
                            {% if form_errors(date.timeEnd) %} <span class="erreur"> - Attention : {{ form_errors(date.timeEnd)|striptags }}</span> {% endif %}
                            {{ form_widget(date.timeEnd, { 'attr': {'class': 'form-control ecart-bas'} }) }}

                        {% endfor %}

                    {% endfor %}



                </div>
            </div>

            <div class="row">
                <div class="col-xs-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 form-group text-center">
                    <button class="btn btn-default type="submit">Créer</button>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <a class="btn btn-default" href="{{ path('event_list') }}">Abandonner</a>
                </div>
            </div>

        {{ form_end(form) }}

    {% else %}

        <div class="row">
            <div class="col-xs-12 erreur text-center">
                {{ error }}
            </div>
        </div>

    {% endif %}

{% endblock %}
